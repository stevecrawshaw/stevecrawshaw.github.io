# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Site Overview

Jekyll blog ("Datablog") deployed to GitHub Pages. Theme: minima, heavily customized with Catppuccin Mocha dark palette. Posts cover R, Python, SQL, data engineering, and AI workflows.

## Build & Deploy

- **No local build tools installed** — no Ruby/Jekyll/Bundler on this machine
- Deploys automatically via GitHub Pages on push to `main`
- Build output (`_site/`) is gitignored
- To test locally if Jekyll is available: `bundle exec jekyll serve`

## Architecture

### Layout Chain

`_layouts/post.html` extends the minima `default` layout and pulls in:
- `_includes/head.html` — fonts, SEO, highlight.js setup, override.css link
- `_includes/sharelinks.html` — social share toolbar (Facebook, Twitter, LinkedIn, Google+, Email)
- `_includes/navlinks.html` — previous/next post navigation with archive fallback

### CSS

Two stylesheets in `css/`:
- **`override.css`** (~1200 lines) — the main theme override. Contains all Catppuccin Mocha color variables (`:root`), typography, post styling, share buttons, callout boxes, pull quotes, animations, and post-list cards. This is loaded in both `_includes/head.html` (site-wide) and `_layouts/post.html` (redundant but intentional).
- **`archive.css`** — tag-based archive page with color-coded category sections cycling through the 13 Catppuccin accent colors.

All colors use CSS custom properties (`--ctp-blue`, `--ctp-surface0`, etc.) defined at the top of `override.css`.

When modifying colors, update the CSS custom properties at the top of the file rather than hardcoding colors throughout.

### Syntax Highlighting

Kramdown's built-in highlighter is **disabled** in `_config.yml`. Instead, highlight.js is loaded in `head.html` with the catppuccin-mocha theme. Supported languages: R, Python, PowerShell, T-SQL, JSON, YAML, TOML, plaintext.

To add support for additional languages:
1. Download the language module from https://highlightjs.org/download
2. Place the `.min.js` file in `js/highlightjs/languages/`
3. Add a script tag in `_includes/head.html` following the existing pattern

### Fonts

- Display: **Space Grotesk** (Google Fonts CDN, used for headings)
- Code: **JetBrains Mono** (imported in override.css)
- Body: system font stack

### Navigation & Sharing

- Post navigation (previous/next) handled by `_includes/navlinks.html`. Falls back to the archive page on first/last post.
- Social sharing buttons included via `sharelinks.html`. SVG icons styled to match Catppuccin palette with hover effects.

### Responsive Design

Mobile-specific adjustments are defined in `override.css`, including removal of background effects and adjusted navigation spacing.

## Post Conventions

Front matter:
```yaml
---
layout: post
title: "Title"
date: YYYY-MM-DD
categories: [Category1, Category2]
tags:
- tag1
- tag2
---
```

Posts default to `tags: Other` if none specified (set in `_config.yml` defaults).

Post filenames must follow the pattern: `YYYY-MM-DD-title-with-hyphens.md`. Posts can also be `.html` files (e.g., exported Jupyter notebooks).

### Custom HTML Elements in Posts

- **Pull quote**: `<div class="pullquote">Key insight text</div>`
- **Callout boxes**: `<div class="callout info|warning|success">Message</div>`

For code blocks, use fenced code blocks with language identifiers:
````markdown
```python
import polars as pl
df = pl.read_csv('data.csv')
```
````

## Key Config (`_config.yml`)

- `exclude:` list includes CLAUDE.md, README.md, Gemfile — these won't appear in the built site
- `titles_from_headings.strip_title: true` — prevents duplicate titles
- `kramdown.syntax_highlighter_opts.disable: true` — highlight.js handles code blocks instead

## Files to Avoid Modifying

- `js/highlightjs/` — vendored third-party library, don't edit
- `assets/main.css` — generated by minima theme, override via `css/override.css` instead

## Content Topics

This blog focuses on data analysis and programming, particularly:
- Python (Polars, DuckDB, data processing)
- R programming
- SQL and database technologies
- AI/LLM workflows
- Development tools and practices
- Data visualization

When creating content, maintain this technical focus and use code examples liberally with proper syntax highlighting.
